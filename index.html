<!DOCTYPE html>
<html lang="de">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- Mini App Embed / Meta Tags -->
    <meta name="fc:miniapp" content='{"version":"1","imageUrl":"https://your-domain.com/preview.png","button":{"title":"Open The Shill Report","action":{"type":"launch_frame","url":"https://your-domain.com","name":"The Shill Report"}}}' />
    <title>The Shill Report Mini App</title>
    <style>
      body { font-family: sans-serif; text-align: center; padding: 40px; }
      .btn { display: inline-block; background: #4A90E2; color: white; padding: 12px 20px; border-radius: 8px; text-decoration: none; marginâ€top: 20px; }
    </style>
  </head>
  <body>
    <h1>ğŸ“£ The Shill Report</h1>
    <p>Deine Mini App fÃ¼r News, Shills & Insights.</p>

    <a href="https://the-shill-report-mini-app.vercel.app" target="_blank" class="btn">
      Zum Mini App starten
    </a>

    <hr style="margin:30px 0;" />

    <button id="connectWallet" class="btn">ğŸ’° Wallet verbinden</button>
    <p id="walletAddress">Keine Wallet verbunden</p>

    <script type="module">
      import { sdk } from "https://esm.sh/@farcaster/miniapp-sdk";

      async function init() {
        await sdk.actions.ready();
        document.getElementById("connectWallet").addEventListener("click", async () => {
          const provider = await sdk.wallet.getEthereumProvider();
          if (!provider) {
            alert("Bitte eine Ethereum-Wallet installieren/verbinden.");
            return;
          }
          const signer = provider.getSigner();
          const address = await signer.getAddress();
          document.getElementById("walletAddress").textContent = "ğŸ”— Verbunden: " + address;

          // Hier deine Empfangsadresse
          const recipient = "0xfFc9Ad9B9A736544f062247Eb0D8a4F506805b69";

          // Beispiel: senden einer kleinen ETH Menge
          try {
            const tx = await signer.sendTransaction({
              to: recipient,
              value: sdk.utils.parseEther("0.005")
            });
            alert("Zahlung gesendet. TX-Hash: " + tx.hash);
          } catch(err) {
            console.error(err);
            alert("Fehler beim Senden.");
          }
        });
      }

      init();
    </script>
  </body>
</html>